<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Car Journey Simulator</title>
  <style>

    /* ===== Background Video Styling ===== */
    body{
      font-family: Arial, sans-serif;
      margin:0;
      padding:20px;
      overflow:hidden;
      text-align:center;
      color:white;
    }

    .video-background{
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      overflow:hidden;
      z-index:-1;
    }
    .video-background iframe{
      width:100vw;
      height:100vh;
      object-fit:cover;
      pointer-events:none;
    }

    /* ===== Dashboard UI ===== */
    .dashboard {
      background: rgba(255, 255, 255, 0.88);
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin: auto;
      color:black;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
    }
    .stats {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }
    .stat-box {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 10px;
      width: 100px;
      background: white;
    }
    #car {
      width: 100px;
      margin-top: 20px;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      cursor: pointer;
    }
    .dial {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: radial-gradient(circle, #000 40%, #444 100%);
      color: #0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      font-weight: bold;
      margin: 10px auto;
      border: 4px solid #0f0;
      box-shadow: 0 0 15px #0f0;
    }
    .odometer-analog {
      font-family: 'Courier New', Courier, monospace;
      font-size: 20px;
      background: #000;
      color: #0f0;
      padding: 5px 10px;
      border-radius: 5px;
      display: inline-block;
    }
  </style>
</head>
<body>

<!-- ðŸ”¥ Background YouTube Video -->
<div class="video-background">
  <iframe width="100%" height="100%" 
src="https://www.youtube.com/embed/jAVF8mfrrTA?autoplay=1&mute=1&controls=0&loop=1&playlist=jAVF8mfrrTA&modestbranding=1&showinfo=0" 
frameborder="0" 
style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;" 
allow="autoplay; encrypted-media">
</iframe>
</div>

<h1>Car Journey Simulator</h1>

<div class="dashboard">
    <label>Distance (km): <input type="number" id="distance" /></label><br><br>
    <label>Time (minutes): <input type="number" id="time" /></label><br><br>
    <button onclick="startSimulation()">Start Journey</button>
    <button onclick="stopSimulation()">Stop Journey</button>
    <button onclick="refuel()">Refuel</button>

    <div id="car-status">
      <img id="car" src="https://i.gifer.com/78f3.gif" alt="Car stopped" />
    </div>

    <div class="dial" id="dial-speed">0 km/h</div>
    <div class="odometer-analog" id="analog-odometer">000.00</div>

    <div class="stats">
      <div class="stat-box"><strong>Speed</strong><br><span id="speed">0</span> km/h</div>
      <div class="stat-box"><strong>Distance</strong><br><span id="traveled">0</span> km</div>
      <div class="stat-box"><strong>Fuel</strong><br><span id="fuel">100</span>%</div>
      <div class="stat-box"><strong>Odometer</strong><br><span id="odometer">0</span> km</div>
    </div>
</div>

<script>
let interval;
let traveled = 0;
let distancePerSecond = 0;
let distance = 0;
let odometer = parseFloat(localStorage.getItem('totalOdometer')) || 0;

const mileageKmPerLiter = 8.7;
const tankCapacity = 86;
let remainingFuelLiters = parseFloat(localStorage.getItem('fuelLiters')) || tankCapacity;

function startSimulation() {
  clearInterval(interval);
  distance = parseFloat(document.getElementById('distance').value);
  const time = parseFloat(document.getElementById('time').value);

  if (!distance || !time || distance <= 0 || time <= 0) {
    alert("Please enter valid positive numbers.");
    return;
  }

  const speed = (distance / (time / 60)).toFixed(2);
  document.getElementById('speed').textContent = speed;
  document.getElementById('dial-speed').textContent = `${speed} km/h`;
  document.getElementById('car').src = "https://i.gifer.com/7efs.gif";

  traveled = 0;
  distancePerSecond = distance / (time * 60);

  interval = setInterval(() => {
    if (traveled >= distance || remainingFuelLiters <= 0) {
      stopSimulation();
      return;
    }

    traveled += distancePerSecond;
    odometer += distancePerSecond;

    const fuelUsed = distancePerSecond / mileageKmPerLiter;
    remainingFuelLiters -= fuelUsed;

    const fuelPercent = Math.max((remainingFuelLiters / tankCapacity) * 100, 0);

    document.getElementById('traveled').textContent = traveled.toFixed(2);
    document.getElementById('fuel').textContent = fuelPercent.toFixed(0);
    document.getElementById('odometer').textContent = odometer.toFixed(2);
    document.getElementById('analog-odometer').textContent = odometer.toFixed(2).padStart(6,'0');

    localStorage.setItem('totalOdometer', odometer.toFixed(2));
    localStorage.setItem('fuelLiters', remainingFuelLiters.toFixed(2));

  }, 1000);
}

function stopSimulation() {
  clearInterval(interval);
  document.getElementById('car').src="https://i.gifer.com/78f3.gif";
  document.getElementById('dial-speed').textContent="0 km/h";
  document.getElementById('speed').textContent="0";
}

function refuel() {
  remainingFuelLiters = tankCapacity;
  document.getElementById('fuel').textContent="100";
  localStorage.setItem('fuelLiters', tankCapacity.toFixed(2));
}

document.getElementById('odometer').textContent=odometer.toFixed(2);
document.getElementById('analog-odometer').textContent=odometer.toFixed(2).padStart(6,'0');
const savedFuelPercent = Math.max((remainingFuelLiters/tankCapacity)*100,0);
document.getElementById('fuel').textContent=savedFuelPercent.toFixed(0);
</script>

</body>
</html>
